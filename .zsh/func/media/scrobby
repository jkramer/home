# vim:ft=zsh

SCROBBY_HOME="$HOME/.scrobby"
SCROBBY_PID_FILE="$SCROBBY_HOME/scrobby.pid"
SCROBBY_CFG_FILE="$SCROBBY_HOME/scrobby.conf"


function run-scrobby () {
	if [[ -e "$SCROBBY_PID_FILE" ]]; then
		# Scrobby already running, do nothing.
	else
		/usr/bin/scrobby "$SCROBBY_CFG_FILE"
	fi
}


function stop-scrobby () {
	is-scrobby-running && kill "$(<$SCROBBY_PID_FILE)"
}


function is-scrobby-running () {
	if [[ -e "$SCROBBY_PID_FILE" ]]; then
		return 0
	else
		return -1
	fi
}


run-scrobby
